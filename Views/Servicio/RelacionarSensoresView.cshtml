
@{
    ViewBag.Title = "RelacionarSensoresView";
    Layout = "~/Views/MasterPage.cshtml";

    int PerfilInterior = Convert.ToInt32(Session["PerfilInterior"]);
    int Perfil = Convert.ToInt32(Session["Perfil"]);

    //string Usuario = Session["User"].ToString().ToUpper();
}
<!DOCTYPE html>
<html>
<body>
    <div class="col-sm-12">
        <div class="x_panel">
            <div class="x_title">
                <div class="row">
                    <div class="col-sm-7">
                        <h4 class="tr" key="gestionreservas">GESTION DE SERVICIOS</h4>
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
            <div class="x_content">
                <div class="x_panel">
                    <div class="row" style="overflow:auto">
                        <table id="Tb_Servicios" class="table table-striped table-bordered display nowrap">
                            <thead>
                                <tr>
                                    <th class="tr" key="contenedorservicio">CONTENEDOR</th>
                                    <th class="tr" key="bookingservicio">BOOKING</th>
                                    <th class="tr" key="controladorservicio">CONTROLADOR</th>
                                    <th class="tr" key="exportadorreserva">EXPORTADOR</th>
                                    <th class="tr" key="commodityservicio">COMMODITY</th>
                                    <th class="tr" key="navieraservicio">NAVIERA</th>
                                    <th class="tr" key="naveservicio">NAVE</th>
                                    <th class="tr" key="viajeservicio">VIAJE</th>
                                    <th class="tr" key="puertoorigenservicio">PUERTO ORIGEN</th>
                                    <th class="tr" key="puertodestinoservicio">PUERTO DESTINO</th>
                                    <th class="tr" key="etapodservicio">ETA POD</th>
                                    <th class="tr" key="setpointacservicio">SETPOINT AC</th>
                                    <th class="tr" key="setpointservicio">SETPOINT TEMPERATURA</th>
                                    <th class="tr" key="modemservicio">MODEM ALMA</th>
                                    <th class="tr" key="co2externo">CO2 EXTERNO</th>
                                    <th class="tr" key="tempexterna">TEMPERATURA EXTERNA</th>
                                    <th class="tr" key="sensorluz">SENSOR APERTURA PUERTA</th>
                                    <th class="tr" key="detallesensores">DETALLE SENSORES</th>
                                </tr>
                                <tr>
                                    <th class="tr" key="contenedorservicio">
                                        <input type="text" class="form-control" data-index="1" />
                                    </th>
                                    <th class="tr" key="bookingservicio">
                                        <input type="text" class="form-control" data-index="1" />
                                    </th>
                                    <th class="tr" key="controladorservicio">
                                        <input type="text" class="form-control" data-index="1" />
                                    </th>
                                    <th class="tr" key="exportadorreserva">
                                        <input type="text" class="form-control" data-index="1" />
                                    </th>
                                    <th class="tr" key="commodityservicio">
                                        <input type="text" class="form-control" data-index="1" />
                                    </th>
                                    <th class="tr" key="navieraservicio">
                                        <input type="text" class="form-control" data-index="1" />
                                    </th>
                                    <th class="tr" key="naveservicio">
                                        <input type="text" class="form-control" data-index="1" />
                                    </th>
                                    <th class="tr" key="viajeservicio">
                                        <input type="text" class="form-control" data-index="1" />
                                    </th>
                                    <th class="tr" key="puertoorigenservicio">
                                        <input type="text" class="form-control" data-index="1" />
                                    </th>
                                    <th class="tr" key="puertodestinoservicio">
                                        <input type="text" class="form-control" data-index="1" />
                                    </th>
                                    <th class="tr" key="etapodservicio">
                                        <input type="text" class="form-control" data-index="1" />
                                    </th>
                                    <th class="tr" key="setpointacservicio">
                                        <input type="text" class="form-control" data-index="1" />
                                    </th>
                                    <th class="tr" key="setpointservicio">
                                        <input type="text" class="form-control" data-index="1" />
                                    </th>
                                    <th class="tr" key="modemservicio">
                                        <input type="text" class="form-control" data-index="1" />
                                    </th>
                                    <th class="tr" key="co2externo">
                                        <input type="text" class="form-control" data-index="1" />
                                    </th>
                                    <th class="tr" key="tempexterna">
                                        <input type="text" class="form-control" data-index="1" />
                                    </th>
                                    <th class="tr" key="sensorluz">
                                        <input type="text" class="form-control" data-index="1" />
                                    </th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>SEGU9431841</td>
                                    <td>070ISA0770861</td>
                                    <td>886B0F02CA67</td>
                                    <td>PROPAL</td>
                                    <td>AVOCADOS</td>
                                    <td>MSC</td>
                                    <td>MSC AVNI</td>
                                    <td>NX938R</td>
                                    <td>VALPARAISO</td>
                                    <td>SAVANNAH</td>
                                    <td>16-08-2019</td>
                                    <td>12% CO2</td>
                                    <td>5°C</td>
                                    <td>SI</td>
                                    <td>SI</td>
                                    <td>SI</td>
                                    <td>NO</td>
                                    <td><i id="DetailServicioSensor" class="fa fa-search fa-2x"></i></td>
                                </tr>
                                <tr>
                                    <td>TEMU9384875</td>
                                    <td>087LIM328206</td>
                                    <td>886B0F01CA21</td>
                                    <td>AGRICOM</td>
                                    <td>AVOCADOS</td>
                                    <td>MSC</td>
                                    <td>MSC AVNI</td>
                                    <td>FA937R</td>
                                    <td>VALPARAISO</td>
                                    <td>SAVANNAH</td>
                                    <td>12-08-2019</td>
                                    <td>8% CO2</td>
                                    <td>5°C</td>
                                    <td>SI</td>
                                    <td>SI</td>
                                    <td>SI</td>
                                    <td>NO</td>
                                    <td><i id="DetailServicioSensor" class="fa fa-search fa-2x"></i></td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="divider"></div>
                <div class="col-lg-12" align="center">
                    <button type="button" class="btn btn-primary btn-sm" id="AgregarReserva" data-toggle="modal" data-target="#myModal3">Agregar Reserva</button>
                    <button type="button" class="btn btn-primary btn-sm" id="AgregarContenedor" data-toggle="modal" data-target="#myModal2">Agregar Contenedor</button>
                </div>
            </div>
        </div>

        <!--Modal datos [ModalDetalleSensores] -->
        <div class="modal fade" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="margin-left:80px; margin-right:10px;">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content" style="width:50%">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h5 class="modal-title" id="myModalLabel3">SENSORES ASOCIADOS</h5>
                    </div>
                    <div class="modal-body">
                        <table id="Tb_Sensores" class="table table-striped table-bordered display nowrap">
                            <thead>
                                <tr>
                                    <td class="tr" align="center" key="tipoalerta"><b>TIPO SENSOR</b></td>
                                    <td class="tr" align="center" key="fechaalerta"><b>ID SENSOR (EDITABLE)</b></td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="td" align="center">TEMPERATURA</td>
                                    <td class="td" align="center" contentEditable="true">T564983232</td>
                                </tr>
                                <tr>
                                    <td class="td" align="center">CO2</td>
                                    <td class="td" align="center" contentEditable="true">CO564983232</td>
                                </tr>
                                <tr>
                                    <td class="td" align="center">APERTURA PUERTAS</td>
                                    <td class="td" align="center" contentEditable="true">CO564983232</td>
                                </tr>
                            </tbody>
                        </table>
                        <br>
                        <div align="center">
                            <button type="button" onclick="agregarFila()" class="btn btn-primary btn-sm">AGREGAR SENSOR</button>
                            <button type="button" onclick="eliminarFila()" class="btn btn-primary btn-sm">QUITAR SENSOR</button>
                        </div>
                        <div align="center">
                            <button type="button" class="btn btn-primary btn-sm">GUARDAR</button>
                            <button type="button" class="btn btn-primary btn-sm">CANCELAR</button>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--Modal datos-->
        <!--Modal Contenedor-->
        <div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="margin-left:100px; margin-right:10px; width:85%">
            <div class="modal-dialog" role="document" style="width:100%">
                <div class="modal-content">
                    <div class="modal-header titulo">
                        <button type="button" class="close closeCelda" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h2 class="modal-title tr">CONTENEDOR DEL SERVICIO</h2>
                    </div>
                    <div class="modal-body">
                        <div id="ColumnaContenedorEditar">
                            <div class="row" id="contenedordatos">
                                <div class="col-lg-6" style="text-align:center">
                                    <label class="checkbox-inline">
                                        <input type="checkbox" id="quitar">Quitar contenedor
                                    </label>
                                </div>
                                <div class="col-lg-6" style="text-align:center">
                                    <label class="checkbox-inline">
                                        <input type="checkbox" id="cambiar">Agregar / Cambiar contenedor
                                    </label>
                                </div>
                            </div>
                            <div class="divider"></div>
                            <div id="cambiarcontenedor" hidden="hidden">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                                        <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                                            <label class="control-label tr">N° Contenedor (*)</label>
                                            <div>
                                                <select class="selectpicker form-control" data-live-search="true" name="EditarContenedor" id="EditarContenedor"></select>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                                            <button type="button" class="btn btn-info" id="AgregarContenedorBtn">Agregar</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="agregarcontenedor" hidden="hidden">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center"></div>
                                        <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                                            <label class="control-label tr">N° Contenedor (*)</label>
                                            <div>
                                                <input type="text" id="AgregarContenedorInput" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-12" style="text-align:center">
                                            <button type="button" class="btn btn-success" id="ValidarContenedor">Validar</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="quitarcontenedor" hidden="hidden">
                                <input type="text" id="IdServcioEditarContendor" hidden="hidden" />
                                <div class="row">
                                    <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:center">
                                        <div>
                                            <input type="text" id="EditarContenedorInput" class="form-control" onkeyup="this.value = this.value.toUpperCase();" readonly />
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:center;">
                                        <div>
                                            <button type="button" class="btn btn-danger" id="QuitarContenedor">Quitar</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Fin Modal -->
        <!--Modal Contenedor-->
        <div class="modal fade" id="myModal3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="margin-left:100px; margin-right:10px; width:85%">
            <div class="modal-dialog" role="document" style="width:100%">
                <div class="modal-content">
                    <div class="modal-header titulo">
                        <button type="button" class="close closeCelda" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h2 class="modal-title tr">INGRESAR DATOS DE RESERVA</h2>
                    </div>
                    <div class="modal-body">
                        <form id="FormControl" class="form-horizontal">
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="Puerto_origen" class="control-label tr" key="puertoorigen">Puerto Embarque (*)</label>
                                </div>
                                <div class="col-md-4">
                                    <select class="selectpicker form-control" data-live-search="true" id="Puerto_origen">
                                        <option value="0" selected class="tr" key="selectpuerto">Seleccione Puerto</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <label for="Puerto_destino" class="control-label tr" key="puertodestino">Puerto Destino (*)</label>
                                </div>
                                <div class="col-md-4">
                                    <select class="selectpicker form-control" data-live-search="true" id="Puerto_destino" disabled>
                                        <option value="0" selected class="tr" key="selectpuerto">Seleccione Puerto</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="Viaje" class="control-label tr" key="viaje">Viaje (*)</label>
                                </div>
                                <div class="col-md-4">
                                    <div id="DivViaje">
                                        <select class="selectpicker form-control" data-live-search="true" id="Viaje" disabled>
                                            <option value="0" selected class="tr" key="selectViaje">Seleccione Viaje</option>
                                        </select>
                                    </div>
                                    <div style="display:none;" id="DivViaje1">
                                        <input type="text" id="Viaje1" class="form-control" onkeyup="this.value = this.value.toUpperCase();">
                                    </div>
                                </div>
                                <div class="col-md-4 col-md-offset-2">
                                    <button class="btn btn-success tr" type="button" id="BuscarViaje">Crear</button>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="Nave" class="control-label tr" key="nave">Nave (*)</label>
                                </div>
                                <div class="col-md-4">
                                    <select class="selectpicker form-control" data-live-search="true" id="Nave" disabled="disabled">
                                        <option value="0" selected class="tr" key="selectnave">Seleccione Nave</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <label for="EtaNave" class="control-label">ETA Nave (*)</label>
                                </div>
                                <div class="col-md-4">
                                    <input type="text" id="EtaNave" class="form-control" autocomplete="off" disabled>
                                </div>

                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="Inicio_stacking" class="control-label tr" key="iniciostacking">Inicio Stacking (*)</label>
                                </div>
                                <div class="col-md-4">
                                    <input type="text" id="Inicio_stacking" class="form-control" autocomplete="off" disabled>
                                </div>
                                <div class="col-md-2">
                                    <label for="Termino_stacking" class="control-label tr" key="terminostacking">Termino Stacking (*)</label>
                                </div>
                                <div class="col-md-4">
                                    <input type="text" id="Termino_stacking" class="form-control" autocomplete="off" disabled>
                                </div>

                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="Etd" class="control-label">ETD Nave(*)</label>
                                </div>
                                <div class="col-md-4">
                                    <input type="text" id="Etd" class="form-control" autocomplete="off" disabled>
                                </div>
                                <div class="col-md-2">
                                    <label for="Eta" class="control-label">ETA POD (*)</label>
                                </div>
                                <div class="col-md-4">
                                    <input type="text" id="Eta" class="form-control" autocomplete="off" disabled>
                                </div>
                            </div>
                            <div class="divider"></div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="Booking" class="control-label">Booking (*)</label>
                                </div>
                                <div class="col-md-4">
                                    <input type="text" id="Booking" class="form-control" onkeyup="this.value = this.value.toUpperCase();">
                                </div>
                                <div class="col-md-2">
                                    <label for="Pais_exportador" class="control-label tr" key="paisexportador">País Exportador</label>
                                </div>
                                <div class="col-md-4">
                                    <select class="selectpicker form-control" data-live-search="true" id="Pais_exportador">
                                        <option value="0" selected class="tr" key="selectpais">Seleccione País Exportador</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="Naviera" class="control-label tr" key="naviera">Naviera (*)</label>
                                </div>
                                <div class="col-md-4">
                                    <select class="selectpicker form-control" data-live-search="true" id="Naviera">
                                        <option value="0" selected class="tr" key="selectnaviera">Seleccione Naviera</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <label for="Exportador" class="control-label tr" key="exportador">Exportador (*) </label>
                                </div>
                                <div class="col-md-4">
                                    <select class="selectpicker form-control" data-live-search="true" id="Exportador">
                                        <option value="0" selected class="tr" key="selectexportador">Seleccione Exportador</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="FreightForwarder" class="control-label">Freight Forwarder</label>
                                </div>
                                <div class="col-md-4">
                                    <select class="selectpicker form-control" data-live-search="true" id="FreightForwarder">
                                        <option value="0" selected class="tr" key="selectfreightforwarder">Seleccione FreightForwarder</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <label for="Consignatario" class="control-label tr" key="consignatario">Consignatario</label>
                                </div>
                                <div class="col-md-4">
                                    <input type="text" id="Consignatario" class="form-control" onkeyup="this.value = this.value.toUpperCase();" />
                                </div>
                            </div>
                            <div class="form-group row">

                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="Commodity" class="control-label">Commodity (*)</label>
                                </div>
                                <div class="col-md-4">
                                    <select class="selectpicker form-control" data-live-search="true" id="Commodity">
                                        <option value="0" selected class="tr" key="selectcommodity">Seleccione Commodity</option>
                                    </select>
                                </div>
                                <div id="ObligatorioCommodity" style="display:none;">
                                    <span style="color:red;" class="form-control">Campo Obligatorio</span>
                                </div>
                                <div class="col-md-2">
                                    <label for="Temperatura" class="control-label tr" key="Temperatura">Temperatura (*)</label>
                                </div>
                                <div class="col-md-4">
                                    <input type="number" step="0.1" id="Temperatura" class="form-control" autocomplete="off">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-2">
                                    <label for="Setpoint" class="control-label">Set Point (*)</label>
                                </div>
                                <div class="col-md-4">
                                    <select class="selectpicker form-control" data-live-search="true" id="Setpoint">
                                        <option value="0" selected class="tr" key="selectsetpoint">Seleccione Set Point</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <label for="Cantidad_servicios" class="control-label tr" key="cantidadservicios">Cantidad Servicios (*)</label>
                                </div>
                                <div class="col-md-4">
                                    <input type="number" min="1" max="100" id="Cantidad_servicios" class="form-control">
                                </div>
                            </div>
                            <div class="form-group row">

                                <div class="col-md-2">
                                    <label for="ServiceProvider" class="control-label tr">Service Provider (*)</label>
                                </div>
                                <div class="col-md-4">
                                    <select class="selectpicker form-control" data-live-search="true" id="ServiceProvider">
                                        <option value="0" selected class="tr" key="selectpais">Seleccione Service Provicer</option>
                                    </select>
                                </div>

                            </div>
                            <div class="divider"></div>
                            <div class="form-group row">
                                <div class="col-md-12 col-sm-12 col-xs-12" style="text-align:center">
                                    <button type="button" class="btn btn-success tr" key="botonguardarservicio" onclick="CrearReservaServicio()">Guardar</button>
                                    @Html.Hidden("RedirectTo", Url.Action("GestionarServicios", "Reservas"));
                                    <button class="btn btn-warning tr" key="limpiar" type="reset">Limpiar</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- Fin Modal -->
    </div>
    <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal1" id="ModalDetalleSensores" style="display:none;"></button>


</body>
</html>

<script>

    $('#Tb_Servicios tbody').on('click', '#DetailServicioSensor', function () {
        $('#ModalDetalleSensores').trigger('click');
    });

    // CrearReserva -> href
    // $('#AgregarReserva').click(function () {
    //  var url = 'Url.Action("GenerarReservaView", "APKService")';
    //   window.location.href = url;
    //});

    function agregarFila() {
        var table = document.getElementById("Tb_Sensores"); {
            var row = table.insertRow(-1);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            cell1.innerHTML = '<input type="text">';
            cell2.innerHTML = '<input type="text" id=txt>';
        }
    }

    function eliminarFila() {
        if ($("#Tb_Sensores tr").length != 1) {  //Restringe eliminacion de la cabecera
            document.getElementById("Tb_Sensores").deleteRow(-1);
        }
    }

    $('#quitar').change(function () {
        if ($(this).prop("checked")) {
            $('#quitarcontenedor').show();
            $('#cambiarcontenedor').hide();
            $('#agregarcontenedor').hide();
            $('#AgregarContenedorInput').hide();
            $('#AgregarContenedorInput').val("");
            $('#cambiar').prop('checked', false);
            //$('.EditarCelda').hide();
            $("#EditarContenedorInput").css("background-color", "rgba(255, 0, 0, 0");
            return;
        } else {
            $('#quitarcontenedor').hide();
            $('#AgregarContenedorInput').val("");
            return;
        }
    });

    $('#cambiar').change(function () {
        if ($(this).prop("checked")) {
            //$('#EditarPais').val("");
            $('#AgregarContenedorInput').val("");
            $('#cambiarcontenedor').show();
            $('#agregarcontenedor').hide();
            $('#AgregarContenedorInput').hide();
            $('#quitarcontenedor').hide();
            $('#quitar').prop('checked', false);
            //$('.EditarCelda').show();
            $.ajax({
                type: "POST",
                url: '@Url.Action("GetContenedoresAprobados", "Contenedores")',
                success: function (response) {
                    var data = [];
                    var json = JSON.parse(response);
                    var cuenta = json.length;
                    var optionsAsString = "";
                    $('#EditarContenedor').empty();
                    for (var i = 0; i < cuenta; i++) {
                        optionsAsString += "<option value='" + json[i].IdContenedor + "'>" + json[i].NumeroContenedor + "</option>";
                    }
                    $('#EditarContenedor').append(optionsAsString);
                    $('#EditarContenedor').selectpicker('refresh');
                },
            });
            return;
        } else {
            $('#cambiarcontenedor').hide();
            $('#agregarcontenedor').hide();
            $('#AgregarContenedorInput').val("");
            //$('.EditarCelda').hide();
            return;
        }
    });

    $("#QuitarContenedor").click(function () {
        if ($("#EditarContenedorInput").val() != "") {
            $.ajax({
                type: "POST",
                url: '@Url.Action("QuitarContenedor", "Reservas")',
                data: {
                    NumContenedor: $("#EditarContenedorInput").val(),
                    IdServicio: $("#IdServcioEditarContendor").val()
                },
                success: function (response) {
                    var json = JSON.parse(response);
                    if (json.validador == 0) {
                        var aux = 'success';
                    } else {
                        var aux = 'warning';
                    }
                    swal({
                        title: '',
                        text: json.Mensaje,
                        type: aux,
                        showCancelButton: false,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33',
                        confirmButtonText: 'Aceptar'
                    }).then((result) => {
                        $('#Tb_Servicios tbody tr:eq(' + localStorage.getItem("Fila") + ') td:eq(' + localStorage.getItem("Columna") + ')').text("")
                        $('#quitarcontenedor').hide();
                        $('#quitar').prop('checked', false);
                    })
                },
            });
        } else {
            //$("#EditarContenedorInput").css("background-color", "rgba(255, 0, 0, 0.4");
        }
    });

    $("#AgregarContenedorBtn").click(function () {
        $('#agregarcontenedor').show();
        $('#cambiarcontenedor').hide();
        $('#AgregarContenedorInput').show();
        //$('.EditarCelda').hide();
    });

    $("#ValidarContenedor").click(function () {
        $("#ValidarContenedor").click(function () {
            if ($("#AgregarContenedorInput").val() != "") {

                $.ajax({
                    type: "POST",
                    url: '@Url.Action("ValidarNumeroContenedor", "Contenedores")',
                    data: { containerNumberToCheck: $("#AgregarContenedorInput").val() },
                    success: function (response) {
                        if (response == "False") {
                            swal('Ups!', '<span>Número contenedor inválido.</span>', 'warning');
                            $("#AgregarContenedorInput").val("");
                            return false;
                        } else {
                            $.ajax({
                                type: "POST",
                                url: '@Url.Action("ValidarContenedor", "Controlador")',
                                data: { Contenedor: $("#AgregarContenedorInput").val() },
                                async: false,
                                success: function (response) {
                                    var json = JSON.parse(response);
                                    if (json.validador == 0 || json.validador == 2 || json.validador == 3 || json.validador == 5 || json.validador == 6 || json.validador == 7) {
                                        swal('Válido!', '<span>Número contenedor válido.</span>', 'success');
                                        $('.EditarCelda').show();
                                    } else {
                                        swal({
                                            title: '',
                                            text: json.Mensaje,
                                            type: 'warning',
                                            showCancelButton: false,
                                            confirmButtonColor: '#3085d6',
                                            cancelButtonColor: '#d33',
                                            confirmButtonText: 'Aceptar'
                                        }).then((result) => {

                                        })
                                    }
                                },
                            });
                        }
                    }
                });


            }
        });
    });

</script>
